<!DOCTYPE html>
<html>
<head>
<title>Mobilli In-store Experience</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,400italic,600italic,700italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="css/instorecore.css" />
<link rel="shortcut icon" href="https://eu-west-1.tchyn.io/thunderhead-production-v2/uploads/2016/01/cropped-Thunderhead_favicon.png?fit=32,32">
<!-- INSERT ONE TAG / SITEKEY HERE if needed -->
<!-- ===================================== -->
<script>(function(o,n,e){var l='link',s='script',c='createElement',i='insertBefore',f=o.getElementsByTagName(s)[0],p=f.parentNode,x=o[c](l),y=o[c](l),z=o[c](s);x.rel='preconnect';x.href=n;y.rel='preload';y.href=e;y.as=s;z.id='thxTag';z.src=e;p[i](x,f);p[i](y,f);p[i](z,f);})(document,'https://onedemo.thunderhead.com','https://onedemo.thunderhead.com/one/rt/js/one-tag.js?siteKey=ONE-Y92NHAGXFJ-1876');</script> 
</head>
<style>
	.viewport .instore.exit {
	  background-image: url("img/icon-exit.png");
	  height: 70px;
	  width: 70px;
	  left: 85%;
	  top: 85%;
		}
	.viewport .instore.scanner {
	  background-image: url("img/icon-scanner.png");
	  height: 70px;
	  width: 70px;
	  left: 10%;
	  top: 45%;
		}
	.viewport .instore.checkout {
	  background-image: url("img/icon-checkout.png");
	  height: 70px;
	  width: 70px;
	  left: 60%;
	  top: 58%;
		}
	.viewport .instore.product {
	  background-image: url("img/icon-beacon.png");
	  height: 70px;
	  width: 70px;
	  left: 45%;
	  top: 40%;
		}
	.viewport .instore.service {
	  background-image: url("img/icon-service.png");
	  height: 70px;
	  width: 70px;
	  left: 60%;
	  top: 58%;
		}
</style>
<body>

<!-- SHOP IMAGE HERE  -->
<!-- ================ -->	
<img src="img/instore-telcoentered.jpg" class="bg">

<div class="container-fluid viewport">
<div class="canvas">

<!-- SHOWING THE ICONS -->
<!-- ===================================== -->
<div class="instore product" data-location="product" draggable="false" data-toggle="tooltip" data-placement="right" title="Product"></div>
<div class="instore checkout" data-location="checkout" draggable="false" data-toggle="tooltip" data-placement="right" title="Checkout"></div>
<div class="instore exit" data-location="exit" draggable="false" data-toggle="tooltip" data-placement="right" title="Exit"></div>
<!--
<div class="instore scanner" data-location="scanner" draggable="false" data-toggle="tooltip" data-placement="right" title="Scanner"></div>
<div class="instore service" data-location="service" draggable="false" data-toggle="tooltip" data-placement="right" title="Service"></div>
-->
</div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jAlerts.js"></script>
	
<script type="text/javascript">
	// Wait until dom is ready...
	$( document ).ready(function() {

	// PARAMETERS TO SET OR MAKE DYNAMIC...
		var TidCookie = getCookie("_one_MjQ5ODg1");
		var ck= "267";
		var SiteURL = "https://alyc100.github.io/";
		// This Attributes Values are hadcoded in the ONE-Tag 
		var AttValue1 = "APPLE-ACC2134";
		var AttValue2 = "TRA-12342";
		var AttValue3 = "QR123456-abc123";

		function getCookie(name) {
		  var re = new RegExp(name + "=([^;]+)");
		  var value = re.exec(document.cookie);
		  return (value != null) ? unescape(value[1]) : null;
		} 

		function showAlert() {
			jAlert({
				headingText		:	"Customer Detected: " + AttValue1, 
				contentText		:	"Push notification is send",
				buttonColor		:	"#3498db"  // default	
			},"top"); 
		};

		function showCheckoutAlert() {
			jAlert({
				headingText		:	"TransactionID : " + AttValue2, 
				contentText		:	"Customer record is updated",
				buttonColor		:	"#3498db"  // default	
			},"top"); 
		};

		function showScanAlert() {
			jAlert({
				headingText		:	"ScanEvent happened: " + AttValue3, 
				contentText		:	"Customer record is updated",
				buttonColor		:	"#3498db"  // default	
			},"top"); 
		};


		function GoOnline(e) {
			console.log("TID=" + TidCookie);
			console.log("ck=" + ck);
			var url = "https://alyc100.github.io/";
			console.log(url);
			window.location.href = url;
		}


  (() => {
    $('[data-toggle="tooltip"]').tooltip();
    $('.instore').on('click', (e) => {
      $(e.target).addClass('clicked');
      setTimeout(() => {
        $(e.target).removeClass('clicked');
      }, 600);

      const location = $(e.target).data('location');

      if (location === 'product') {
				console.log("clicked=" + location);
				showAlert();
      }

      if (location === 'scanner') {
				console.log("clicked=" + location);
				showScanAlert();
      }

      if (location === 'checkout') {
				console.log("clicked=" + location);
				showCheckoutAlert();
      }

      if (location === 'exit') {
				console.log("clicked=" + location);
				GoOnline();
      }

      if (location === 'service') {
				console.log("clicked=" + location);
      }

    });

  })();
	});
</script>


</body>
</html>
